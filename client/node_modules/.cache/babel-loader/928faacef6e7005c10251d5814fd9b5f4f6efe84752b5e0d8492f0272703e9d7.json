{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pedro\\\\Desktop\\\\MoviesRating\\\\client\\\\src\\\\SearchForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchForm({\n  onRatingData\n}) {\n  _s();\n  const [suggestions, setSuggestions] = useState([]);\n  const [searchTitle, setSearchTitle] = useState('');\n  async function handleSubmit(e) {\n    const movieTitle = e.target.title.value;\n    e.preventDefault();\n    try {\n      const response = await fetch(`/ratings?title=${movieTitle}`);\n      const data = await response.json();\n      onRatingData(data);\n    } catch (err) {\n      console.error(err);\n      onRatingData(\"N\");\n    }\n  }\n  let timeoutId;\n  async function onChangeHandler(e) {\n    setSearchTitle(e);\n    if (e.length > 2) {\n      timeoutId = setTimeout(async () => {\n        try {\n          const response = await fetch(`/searchTitle?title=${e}`);\n          const data = await response.json();\n          if (data === \"N\") {\n            throw new Error(\"Movie Not Found\");\n          } else {\n            setSuggestions(data);\n          }\n        } catch (err) {\n          setSuggestions(\"\");\n          console.log(err);\n        }\n      }, 500);\n    } else {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      setSuggestions([]);\n    }\n  }\n  function onSuggestHandler(title) {\n    setSearchTitle(title);\n    setSuggestions(\"\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"main-text\",\n          children: \"Type a Movie Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"submit-button\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faMagnifyingGlass,\n            className: \"icon\",\n            type: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"title\",\n          type: \"text\",\n          required: true,\n          onChange: e => onChangeHandler(e.target.value),\n          value: searchTitle,\n          className: \"input-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `suggestions-container ${suggestions.length === 0 ? 'hidden' : ''}`,\n      children: suggestions && suggestions.map((suggestions, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions\",\n        onClick: () => onSuggestHandler(suggestions),\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: suggestions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n}\n_s(SearchForm, \"xq4SmiEHiOtHlaYTA8QiNklr3Ew=\");\n_c = SearchForm;\nexport default SearchForm;\nvar _c;\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"names":["React","useState","useEffect","FontAwesomeIcon","faMagnifyingGlass","jsxDEV","_jsxDEV","SearchForm","onRatingData","_s","suggestions","setSuggestions","searchTitle","setSearchTitle","handleSubmit","e","movieTitle","target","title","value","preventDefault","response","fetch","data","json","err","console","error","timeoutId","onChangeHandler","length","setTimeout","Error","log","clearTimeout","onSuggestHandler","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","icon","name","required","onChange","map","i","onClick","_c","$RefreshReg$"],"sources":["C:/Users/pedro/Desktop/MoviesRating/client/src/SearchForm.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMagnifyingGlass } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction SearchForm({ onRatingData }){\r\n    const [suggestions, setSuggestions] = useState([]);\r\n    const [searchTitle, setSearchTitle] = useState('');\r\n    \r\n    async function handleSubmit(e){\r\n        const movieTitle = e.target.title.value;\r\n    \r\n        e.preventDefault();\r\n    \r\n        try{\r\n          const response = await fetch(`/ratings?title=${movieTitle}`);\r\n          const data = await response.json();\r\n          onRatingData(data);\r\n    \r\n        }catch(err){\r\n          console.error(err);\r\n          onRatingData(\"N\");\r\n        }\r\n      }\r\n      let timeoutId;\r\n      async function onChangeHandler(e) {\r\n        setSearchTitle(e);\r\n        if (e.length > 2) {\r\n          timeoutId = setTimeout(async () => {\r\n            try {\r\n              const response = await fetch(`/searchTitle?title=${e}`);\r\n              const data = await response.json();\r\n      \r\n              if (data === \"N\") {\r\n                throw new Error(\"Movie Not Found\");\r\n              } else {\r\n                setSuggestions(data);\r\n              }\r\n            } catch (err) {\r\n              setSuggestions(\"\");\r\n              console.log(err);\r\n            }\r\n          }, 500);\r\n        } else {\r\n          if (timeoutId) {\r\n            clearTimeout(timeoutId);\r\n          }\r\n          setSuggestions([]);\r\n        }\r\n      }\r\n\r\n      function onSuggestHandler(title){\r\n        setSearchTitle(title);\r\n        setSuggestions(\"\");\r\n      }\r\n\r\n    return(\r\n      <div className=\"input-form\">\r\n        <form onSubmit={(e)=> handleSubmit(e)}>\r\n          <div>\r\n            <h1 className=\"main-text\">Type a Movie Title</h1>\r\n          </div>\r\n          <div className=\"input-container\">\r\n            <button type=\"submit\" className=\"submit-button\">\r\n              <FontAwesomeIcon icon={faMagnifyingGlass} className=\"icon\" type=\"submit\" />\r\n            </button>\r\n            <input \r\n              name=\"title\"\r\n              type=\"text\"\r\n              required\r\n              onChange={(e)=> onChangeHandler(e.target.value)}\r\n              value={searchTitle}\r\n              className=\"input-text\">\r\n            </input>\r\n          </div>\r\n        </form>\r\n        <div className={`suggestions-container ${suggestions.length === 0 ? 'hidden' : ''}`}>\r\n        {suggestions && suggestions.map((suggestions, i)=>\r\n          <div key={i} className='suggestions' onClick={() => onSuggestHandler(suggestions)}>\r\n            <h1>{suggestions}</h1>\r\n          </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default SearchForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}